{% extends 'layout.html' %}
{% block content %}
<div id="indexBody">
    <p style="margin-top:5px;">
      <img src = "images/posting_icon.png" width="200dp" height="200dp">
    </p>
    <p  style="font-size: 25px">
     ADD new posting<br>
    </p>
    
    <form name="posting" action="/post/newpost" method="post" enctype="multipart/form-data">
        <div class ="box"> 
            <label id="img-label" for="images">Upload images -></label>
            <input id = "images" type='file' name='images' multiple style="width:50%; height:50%;font-size:20px;"/>
        </div>
        <div class ="box">
            <input type="text" name="content" id="content" placeholder="Please write content with hashtags"  style="width:50%; height:37px; font-size:20px;"/>
        </div>
        <div class ="box">
        <input type="submit" value="Upload"  style="width:25%; height:50%;font-size:20px;"/>
        </div>
    </form>
    </div>
</div>
{% endblock %}
{% block script %}
<script>
if (document.getElementById("images")) {
    let uploadNum = 0; //올린 사진 셀 변수
    let index = 0; 
    document.getElementById("images").addEventListener("change", function (e) { 
    const length = this.files.length; 
    const max = 5; //사진 최대 5장까지 
    switch (uploadNum) { 
        case 0: 
            if (length > max - uploadNum) 
            { 
                alert("사진은 최대 5장까지만 가능합니다."); 
                return; 
            }
            uploadNum += length; 
            break;
        case 1: 
            if (length > max - uploadNum) 
            { 
                alert("사진은 최대 5장까지만 가능합니다."); 
                return; 
            } uploadNum += length; 
            break; 
        case 2: 
            if (length > max - uploadNum)
            { 
                alert("사진은 최대 5장까지만 가능합니다.");
            return; 
            } 
            uploadNum += length;
            break; 
        case 3: 
            if (length > max - uploadNum) 
            { 
                alert("사진은 최대 5장까지만 가능합니다.");
                return; 
            } 
            uploadNum += length;
            break; 
        case 4: 
            if (length > max - uploadNum) 
            { 
                alert("사진은 최대 5장까지만 가능합니다.");
                return; 
            } 
            uploadNum += length;
            break; 
        default:
            alert("사진은 최대 5장까지만 가능합니다.");
            return;
    }
    });
}
</script>
{% endblock%}